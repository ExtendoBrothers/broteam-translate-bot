â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ADMIN CLI QUICK REFERENCE                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸš€ START
  npm run admin

ğŸ“‹ MENU OPTIONS

  1ï¸âƒ£  Reauthorize OAuth2 (Browser Flow)
      â†’ Best for: First-time setup, token refresh
      â†’ Opens browser, handles callback automatically
      â†’ Saves to .env + .twitter-oauth2-tokens.json
      
  2ï¸âƒ£  Manual Token Entry
      â†’ Best for: Automation, existing tokens
      â†’ Paste access/refresh tokens directly
      â†’ Configure expiration time
      
  3ï¸âƒ£  View Current Token Status
      â†’ Best for: Checking expiration, debugging
      â†’ Shows token preview (first 20 chars)
      â†’ Displays time until expiry
      â†’ Compares file vs env vars
      
  4ï¸âƒ£  Clear Stored OAuth2 Tokens
      â†’ Best for: Token rotation, cleanup
      â†’ Deletes .twitter-oauth2-tokens.json
      â†’ Requires "yes" confirmation
      â†’ Note: Doesn't modify .env
      
  5ï¸âƒ£  Test Twitter API Connection
      â†’ Best for: Verifying tokens work
      â†’ Fetches @BroTeamPills user info
      â†’ Shows detailed errors
      â†’ Run after any token change
      
  6ï¸âƒ£  Exit
      â†’ Clean shutdown

âš¡ COMMON WORKFLOWS

  First-Time Setup:
    1 â†’ 5 â†’ 6 â†’ npm run dev
    
  Token Expired:
    3 â†’ 1 â†’ 5 â†’ 6 â†’ restart bot
    
  Token Rotation:
    4 â†’ 1 â†’ 5 â†’ 6
    
  Verify Tokens:
    3 â†’ 5 â†’ 6

ğŸ”§ TROUBLESHOOTING

  Port Already in Use:
    â€¢ Change TWITTER_CALLBACK_URL in .env
    â€¢ Update Twitter app settings
    
  Authorization Timeout (5 min):
    â€¢ Exit and restart admin CLI
    â€¢ Complete authorization faster
    
  Connection Test Fails:
    â€¢ Check tokens (option 3)
    â€¢ Reauthorize (option 1)
    â€¢ Verify CLIENT_ID/SECRET in .env
    
  State Mismatch:
    â€¢ Delete .oauth2-meta.json
    â€¢ Run option 1 again
    â€¢ Or use --force flag

ğŸ“š DOCUMENTATION

  Detailed Guide:     ADMIN_CLI.md
  Interactive Demo:   ADMIN_CLI_DEMO.md
  Implementation:     ADMIN_CLI_SUMMARY.md
  Main README:        README.md

ğŸ’¡ TIPS

  âœ“ Use option 1 for quickest setup
  âœ“ Run option 5 after any token change
  âœ“ Check option 3 regularly for expiry
  âœ“ Keep CLI running during auth (option 1)
  âœ“ Backup tokens before clearing (option 4)

ğŸ” SECURITY

  â€¢ Never commit .env or .twitter-oauth2-tokens.json
  â€¢ Both files are in .gitignore
  â€¢ Rotate tokens if compromised
  â€¢ Use DRY_RUN=1 for testing

ğŸ“¦ FILES MODIFIED BY ADMIN CLI

  Created/Updated:
    â€¢ .twitter-oauth2-tokens.json
    â€¢ .env (TWITTER_OAUTH2_ACCESS_TOKEN)
    â€¢ .env (TWITTER_OAUTH2_REFRESH_TOKEN)
    
  Temporary (auto-deleted):
    â€¢ .oauth2-meta.json

ğŸ¯ ONE-LINER CHEAT SHEET

  Setup:    npm run admin â†’ 1 â†’ (browser) â†’ 5 â†’ 6
  Refresh:  npm run admin â†’ 1 â†’ (browser) â†’ 6
  Check:    npm run admin â†’ 3 â†’ 6
  Test:     npm run admin â†’ 5 â†’ 6
  Clean:    npm run admin â†’ 4 â†’ yes â†’ 6

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  For help: npm run admin or see ADMIN_CLI.md                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
