// src/translator/lexicon.ts
// Simple language lexicon for dictionary-based language detection
// Add more words for each language as needed

// Dynamically load the large English lexicon from JSON
// eslint-disable-next-line @typescript-eslint/no-var-requires
const englishWords: string[] = require('./english-lexicon.json');

export const LEXICONS: Record<string, Set<string>> = {
  en: new Set(englishWords),
  ja: new Set(['これ', 'それ', 'あれ', 'この', 'その', 'あの', 'ここ', 'そこ', 'あそこ', '私', 'あなた', '彼', '彼女', '私たち', 'あなたたち', '彼ら', '何', '誰', 'どこ', 'いつ', 'どう', 'なぜ', 'です', 'ます', 'いる', 'ある', 'する', 'なる', 'できる', '行く', '来る', '見る', '言う', '思う', '知る', '食べる', '飲む', '買う', '使う', '作る', '読む', '書く', '話す', '聞く', '立つ', '座る', '歩く', '走る', '持つ', '待つ', '始める', '終わる', '分かる', '好き', '嫌い', '大きい', '小さい', '新しい', '古い', '良い', '悪い', '高い', '安い', '多い', '少ない', '早い', '遅い', '暑い', '寒い', '面白い', '楽しい', '難しい', '簡単']),
  ru: new Set(['и', 'в', 'не', 'он', 'на', 'я', 'что', 'тот', 'быть', 'с', 'а', 'по', 'это', 'она', 'как', 'к', 'у', 'из', 'за', 'от', 'но', 'же', 'вы', 'так', 'о', 'мы', 'вы', 'они', 'этот', 'который', 'мочь', 'человек', 'один', 'ещё', 'бы', 'такой', 'только', 'себя', 'свой', 'какой', 'когда', 'уже', 'для', 'вот', 'кто', 'да', 'говорить', 'год', 'знать', 'до', 'или', 'если', 'время', 'рука', 'нет', 'самый', 'ни', 'стать', 'большой', 'даже', 'другой', 'наш', 'мой', 'жизнь', 'первый', 'два', 'день', 'её', 'новый', 'под', 'где', 'дело', 'есть', 'сам', 'раз', 'там', 'чем', 'глаз', 'тут', 'сейчас', 'можно', 'после', 'его', 'надо', 'без', 'видеть', 'идти', 'работа', 'три', 'слово', 'место', 'лицо', 'потом', 'делать', 'ничто', 'тоже', 'сказать', 'потому', 'чтобы', 'всегда', 'между', 'понимать', 'друг', 'сидеть', 'жить', 'должен', 'чуть', 'сразу', 'куда', 'почему', 'спросить', 'ответить', 'думать', 'иметь', 'бить', 'стоять', 'смотреть', 'ребёнок', 'нужно', 'мир', 'земля', 'конечно', 'женщина', 'ребенок', 'голова', 'дом', 'случай', 'начать', 'деньги', 'вода', 'отец', 'машина', 'дверь', 'работать', 'писать', 'любить', 'старый', 'новый', 'маленький', 'большой', 'длинный', 'короткий', 'высокий', 'низкий', 'толстый', 'тонкий', 'сильный', 'слабый', 'тяжёлый', 'лёгкий', 'тёмный', 'светлый', 'горячий', 'холодный', 'быстрый', 'медленный', 'интересный', 'скучный', 'весёлый', 'грустный', 'трудный', 'лёгкий', 'простой', 'сложный']),
  // ...add more languages as needed
};

export function detectLanguageByLexicon(text: string): string | null {
  const words = text.toLowerCase().split(/\W+/).filter(Boolean);
  let bestMatch: { lang: string; count: number } = { lang: '', count: 0 };
  for (const [lang, lexicon] of Object.entries(LEXICONS)) {
    let matchCount = 0;
    for (const word of words) {
      if (lexicon.has(word)) matchCount++;
    }
    if (matchCount > bestMatch.count) {
      bestMatch = { lang, count: matchCount };
    }
  }
  return bestMatch.count > 0 ? bestMatch.lang : null;
}
